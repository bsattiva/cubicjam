{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getInterfaceLanguage = getInterfaceLanguage;\nexports.getBestMatchingLanguage = getBestMatchingLanguage;\nexports.validateTranslationKeys = validateTranslationKeys;\nexports.randomPseudo = randomPseudo;\n/**\r\n * Return the current interface language\r\n * If the navigator object is defined it returns the current navigator language\r\n * otherwise it falls back to 'en-US'\r\n * Works in browsers\r\n */\n\nfunction getInterfaceLanguage() {\n  var defaultLang = 'en-US';\n\n  if (typeof navigator === 'undefined') {\n    return defaultLang;\n  }\n\n  var nav = navigator; // eslint-disable-line no-undef\n\n  if (nav) {\n    if (nav.language) {\n      return nav.language;\n    }\n\n    if (!!nav.languages && !!nav.languages[0]) {\n      return nav.languages[0];\n    }\n\n    if (nav.userLanguage) {\n      return nav.userLanguage;\n    }\n\n    if (nav.browserLanguage) {\n      return nav.browserLanguage;\n    }\n  }\n\n  return defaultLang;\n}\n/**\r\n * Get the best match based on the language passed and the available languages\r\n * @param {*} language\r\n * @param {*} props\r\n */\n\n\nfunction getBestMatchingLanguage(language, props) {\n  // If an object with the passed language key exists return it\n  if (props[language]) return language; // if the string is composed try to find a match with only the first language identifiers (en-US --> en)\n\n  var idx = language.indexOf('-');\n  var auxLang = idx >= 0 ? language.substring(0, idx) : language;\n  return props[auxLang] ? auxLang : Object.keys(props)[0];\n}\n/**\r\n * Check that the keys used in the provided strings object don't collide with existing property\r\n * already defined in the LocalizedStrings object\r\n * @param {*} translationKeys\r\n */\n\n\nfunction validateTranslationKeys(translationKeys) {\n  var reservedNames = ['_interfaceLanguage', '_language', '_defaultLanguage', '_defaultLanguageFirstLevelKeys', '_props'];\n  translationKeys.forEach(function (key) {\n    if (reservedNames.indexOf(key) !== -1) {\n      throw new Error(key + ' cannot be used as a key. It is a reserved word.');\n    }\n  });\n}\n/**\r\n * Get a random pseudo string back after specified a length\r\n * @param {Number} len - How many characters to get back\r\n */\n\n\nfunction randomPseudo(len) {\n  var text = '';\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < len; i += 1) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}","map":{"version":3,"sources":["C:/Users/Maxim.Karpov/cypress/react/cubicjam/cubicjam/node_modules/localized-strings/lib/utils.js"],"names":["Object","defineProperty","exports","value","getInterfaceLanguage","getBestMatchingLanguage","validateTranslationKeys","randomPseudo","defaultLang","navigator","nav","language","languages","userLanguage","browserLanguage","props","idx","indexOf","auxLang","substring","keys","translationKeys","reservedNames","forEach","key","Error","len","text","possible","i","charAt","Math","floor","random","length"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,oBAAR,GAA+BA,oBAA/B;AACAF,OAAO,CAACG,uBAAR,GAAkCA,uBAAlC;AACAH,OAAO,CAACI,uBAAR,GAAkCA,uBAAlC;AACAJ,OAAO,CAACK,YAAR,GAAuBA,YAAvB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASH,oBAAT,GAAgC;AAC9B,MAAII,WAAW,GAAG,OAAlB;;AACA,MAAI,OAAOC,SAAP,KAAqB,WAAzB,EAAsC;AACpC,WAAOD,WAAP;AACD;;AACD,MAAIE,GAAG,GAAGD,SAAV,CAL8B,CAKT;;AACrB,MAAIC,GAAJ,EAAS;AACP,QAAIA,GAAG,CAACC,QAAR,EAAkB;AAChB,aAAOD,GAAG,CAACC,QAAX;AACD;;AACD,QAAI,CAAC,CAACD,GAAG,CAACE,SAAN,IAAmB,CAAC,CAACF,GAAG,CAACE,SAAJ,CAAc,CAAd,CAAzB,EAA2C;AACzC,aAAOF,GAAG,CAACE,SAAJ,CAAc,CAAd,CAAP;AACD;;AACD,QAAIF,GAAG,CAACG,YAAR,EAAsB;AACpB,aAAOH,GAAG,CAACG,YAAX;AACD;;AACD,QAAIH,GAAG,CAACI,eAAR,EAAyB;AACvB,aAAOJ,GAAG,CAACI,eAAX;AACD;AACF;;AACD,SAAON,WAAP;AACD;AAED;AACA;AACA;AACA;AACA;;;AACA,SAASH,uBAAT,CAAiCM,QAAjC,EAA2CI,KAA3C,EAAkD;AAChD;AACA,MAAIA,KAAK,CAACJ,QAAD,CAAT,EAAqB,OAAOA,QAAP,CAF2B,CAIhD;;AACA,MAAIK,GAAG,GAAGL,QAAQ,CAACM,OAAT,CAAiB,GAAjB,CAAV;AACA,MAAIC,OAAO,GAAGF,GAAG,IAAI,CAAP,GAAWL,QAAQ,CAACQ,SAAT,CAAmB,CAAnB,EAAsBH,GAAtB,CAAX,GAAwCL,QAAtD;AACA,SAAOI,KAAK,CAACG,OAAD,CAAL,GAAiBA,OAAjB,GAA2BlB,MAAM,CAACoB,IAAP,CAAYL,KAAZ,EAAmB,CAAnB,CAAlC;AACD;AAED;AACA;AACA;AACA;AACA;;;AACA,SAAST,uBAAT,CAAiCe,eAAjC,EAAkD;AAChD,MAAIC,aAAa,GAAG,CAAC,oBAAD,EAAuB,WAAvB,EAAoC,kBAApC,EAAwD,gCAAxD,EAA0F,QAA1F,CAApB;AACAD,EAAAA,eAAe,CAACE,OAAhB,CAAwB,UAAUC,GAAV,EAAe;AACrC,QAAIF,aAAa,CAACL,OAAd,CAAsBO,GAAtB,MAA+B,CAAC,CAApC,EAAuC;AACrC,YAAM,IAAIC,KAAJ,CAAUD,GAAG,GAAG,kDAAhB,CAAN;AACD;AACF,GAJD;AAKD;AAED;AACA;AACA;AACA;;;AACA,SAASjB,YAAT,CAAsBmB,GAAtB,EAA2B;AACzB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,QAAQ,GAAG,gEAAf;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAApB,EAAyBG,CAAC,IAAI,CAA9B,EAAiC;AAC/BF,IAAAA,IAAI,IAAIC,QAAQ,CAACE,MAAT,CAAgBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,QAAQ,CAACM,MAApC,CAAhB,CAAR;AACD;;AAAA,SAAOP,IAAP;AACF","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.getInterfaceLanguage = getInterfaceLanguage;\r\nexports.getBestMatchingLanguage = getBestMatchingLanguage;\r\nexports.validateTranslationKeys = validateTranslationKeys;\r\nexports.randomPseudo = randomPseudo;\r\n/**\r\n * Return the current interface language\r\n * If the navigator object is defined it returns the current navigator language\r\n * otherwise it falls back to 'en-US'\r\n * Works in browsers\r\n */\r\nfunction getInterfaceLanguage() {\r\n  var defaultLang = 'en-US';\r\n  if (typeof navigator === 'undefined') {\r\n    return defaultLang;\r\n  }\r\n  var nav = navigator; // eslint-disable-line no-undef\r\n  if (nav) {\r\n    if (nav.language) {\r\n      return nav.language;\r\n    }\r\n    if (!!nav.languages && !!nav.languages[0]) {\r\n      return nav.languages[0];\r\n    }\r\n    if (nav.userLanguage) {\r\n      return nav.userLanguage;\r\n    }\r\n    if (nav.browserLanguage) {\r\n      return nav.browserLanguage;\r\n    }\r\n  }\r\n  return defaultLang;\r\n}\r\n\r\n/**\r\n * Get the best match based on the language passed and the available languages\r\n * @param {*} language\r\n * @param {*} props\r\n */\r\nfunction getBestMatchingLanguage(language, props) {\r\n  // If an object with the passed language key exists return it\r\n  if (props[language]) return language;\r\n\r\n  // if the string is composed try to find a match with only the first language identifiers (en-US --> en)\r\n  var idx = language.indexOf('-');\r\n  var auxLang = idx >= 0 ? language.substring(0, idx) : language;\r\n  return props[auxLang] ? auxLang : Object.keys(props)[0];\r\n}\r\n\r\n/**\r\n * Check that the keys used in the provided strings object don't collide with existing property\r\n * already defined in the LocalizedStrings object\r\n * @param {*} translationKeys\r\n */\r\nfunction validateTranslationKeys(translationKeys) {\r\n  var reservedNames = ['_interfaceLanguage', '_language', '_defaultLanguage', '_defaultLanguageFirstLevelKeys', '_props'];\r\n  translationKeys.forEach(function (key) {\r\n    if (reservedNames.indexOf(key) !== -1) {\r\n      throw new Error(key + ' cannot be used as a key. It is a reserved word.');\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Get a random pseudo string back after specified a length\r\n * @param {Number} len - How many characters to get back\r\n */\r\nfunction randomPseudo(len) {\r\n  var text = '';\r\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  for (var i = 0; i < len; i += 1) {\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  }return text;\r\n}"]},"metadata":{},"sourceType":"script"}